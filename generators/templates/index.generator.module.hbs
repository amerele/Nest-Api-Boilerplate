import { forwardRef, Module } from '@nestjs/common';
//import { CacheModule } from '@nestjs/cache-manager';
import { MongooseModule } from '@nestjs/mongoose';
import { {{titleCase name}}Service } from './service/{{name}}.service';
import { {{titleCase name}}Controller } from './controller/{{name}}.controller';
import { {{titleCase name}}Repository } from './repository/{{name}}.repository';
import { {{titleCase name}}, {{titleCase name}}Schema } from './schema/{{name}}.schema';

@Module({
  imports: [
    MongooseModule.forFeature([{ name: {{titleCase name}}.name, schema: {{titleCase name}}Schema }]),
    /*
    CacheModule.register({
      ttl: 6000, // ms
    }),
    */
  ],
  controllers: [{{titleCase name}}Controller],
  providers: [
    {
      provide: 'I{{titleCase name}}Interface',
      useClass: {{titleCase name}}Repository,
    },
    {{titleCase name}}Service
  ],
  exports: [{{titleCase name}}Service, MongooseModule]
})
export class {{titleCase name}}Module {}
